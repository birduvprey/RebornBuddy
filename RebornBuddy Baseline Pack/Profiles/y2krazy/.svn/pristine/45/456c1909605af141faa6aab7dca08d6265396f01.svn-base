<?xml version="1.0" encoding="UTF-8"?>
<!--
#############################################
# Profile: [O] A Realm Reborn (Patch 2.1)   #
#############################################
# Authors: y2krazy                          #
#          kagamihiiragi17                  #
#############################################
# Version: 2.1.0                            #
#############################################
# Required Level: 50                        #
#############################################
# Required Setup:                           #
#  Create your character and log in.        #
#  Select Keyboard/Mouse for your controls. #
#############################################
# Required User Interaction:                #
#  Duty Finder Queues                       #
#  Manually Buying Chocobo Issuance         #
#  Naming Your Chocobo                      #
#############################################
-->
<Profile>
	<Name>[O] A Realm Reborn (Patch 2.1) (v2.1.0)</Name>
	<BehaviorDirectory>../Quest Behaviors</BehaviorDirectory>
	<KillRadius>90</KillRadius>
	<Order>

		<BotSettings AutoEquip="1"/>

		<If Condition="not IsQuestCompleted(66060)">
			<LogMessage Message="[Pre-Requisite Check] You haven't completed The Ultimate Weapon quest yet!"/>
            <LogMessage Message="[Pre-Requisite Check] Please load the A Realm Reborn profile if you would like to continue questing!"/>
			<StopBot/>
		</If>

        <If Condition="(ClassName != ClassJobType.Bard) and (ClassName != ClassJobType.BlackMage) and (ClassName != ClassJobType.Dragoon) and (ClassName != ClassJobType.Monk) and (ClassName != ClassJobType.Ninja) and (ClassName != ClassJobType.Paladin) and (ClassName != ClassJobType.Scholar) and (ClassName != ClassJobType.Summoner) and (ClassName != ClassJobType.Warrior) and (ClassName != ClassJobType.WhiteMage)">
            <LogMessage Message="[Job Check] You do not have a job assigned on your character."/>
            <LogMessage Message="[Job Check] Equipping your Soul Crystal now..."/>
            <If Condition="ClassName == ClassJobType.Archer">
                <RunCode Name="EquipBRDCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Thaumaturge">
                <RunCode Name="EquipBLMCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Lancer">
                <RunCode Name="EquipDRGCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Pugilist">
                <RunCode Name="EquipMNKCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Rogue">
                <RunCode Name="EquipNINCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Gladiator">
                <RunCode Name="EquipPLDCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Arcanist">
                <RunCode Name="EquipSCHCrystal"/>
                <WaitTimer WaitTime="3"/>
                <RunCode Name="EquipSMNCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Marauder">
                <RunCode Name="EquipWARCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="ClassName == ClassJobType.Conjurer">
                <RunCode Name="EquipWHMCrystal"/>
                <WaitTimer WaitTime="3"/>
            </If>
            <If Condition="(ClassName != ClassJobType.Bard) and (ClassName != ClassJobType.BlackMage) and (ClassName != ClassJobType.Dragoon) and (ClassName != ClassJobType.Monk) and (ClassName != ClassJobType.Ninja) and (ClassName != ClassJobType.Paladin) and (ClassName != ClassJobType.Scholar) and (ClassName != ClassJobType.Summoner) and (ClassName != ClassJobType.Warrior) and (ClassName != ClassJobType.WhiteMage)">
                <LogMessage Message="[Job Check] You do not have the proper Soul Crystal in your Armoury or Inventory."/>
                <LogMessage Message="[Job Check] Loading the Class and Job Quests profile..."/>
                <LoadProfile Path="Profiles/y2krazy/Questing/[O] Class and Job Quests.xml"/>
            </If>
        </If>

        <!-- The Price of Principles -->

        <If Condition="not IsQuestCompleted(66711)">
            <If Condition="not HasQuest(66711)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <If Condition="IsOnMap(140)">
                    <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                </If>
                <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                    <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                </If>
                <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                <If Condition="IsQuestAcceptQualified(66711)">
                    <PickupQuest NpcId="1006693" QuestId="66711" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
            <If Condition="HasQuest(66711)">
                <If Condition="GetQuestStep(66711) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Minfilia" XYZ="1.480042, -3.000001, -48.72211"/>
                    <!-- <If Condition="GetQuestById(66711).QuestI8AH == 0"> -->
                        <TalkTo InteractDistance="3.0" NpcId="1007534" XYZ="1.480042, -3.000001, -48.72211" QuestId="66711" StepId="1"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66711).QuestI8AH == 1"> -->
                        <TalkTo InteractDistance="3.0" NpcId="1007533" XYZ="-0.8087769, -3, -47.80658" QuestId="66711" StepId="1"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66711).QuestI8AH == 2"> -->
                        <TalkTo InteractDistance="3.0" NpcId="1007530" XYZ="1.296936, -3.000001, -52.26221" QuestId="66711" StepId="1"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66711).QuestI8AH == 3"> -->
                        <TalkTo InteractDistance="3.0" NpcId="1007531" XYZ="0.1677856, -3.000001, -52.71997" QuestId="66711" StepId="1"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66711).QuestI8AH == 4"> -->
                    <MoveTo Name="Alphinaud" XYZ="2.487183, 5.215406E-07, 4.592957"/>
                        <TalkTo InteractDistance="3.0" NpcId="1007478" XYZ="-2.822998, -3.000001, -56.22955" QuestId="66711" StepId="1"/>
                    <!-- </If> -->
                </If>
                <If Condition="GetQuestStep(66711) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>

                    <!-- Rewards

                    0: Vitality Earrings
                    1: Strength Earrings (Accuracy)
                    2: Strength Earrings (Critical Hit Rate)

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66711" NpcId="1007722" XYZ="2.487183, 5.215406E-07, 4.592957" RewardSlot="0"/>

                    -->

                    <MoveTo Name="Alphinaud" XYZ="2.487183, 5.215406E-07, 4.592957"/>
                    <TurnIn QuestId="66711" NpcId="1007722" XYZ="2.487183, 5.215406E-07, 4.592957"/>
                </If>
            </If>
        </If>

        <!-- Moving On -->

        <If Condition="not IsQuestCompleted(66712)">
            <If Condition="not HasQuest(66712)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <If Condition="IsOnMap(140)">
                    <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                </If>
                <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                    <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                </If>
                <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                <If Condition="IsQuestAcceptQualified(66712)">
                    <PickupQuest NpcId="1006693" QuestId="66712" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
            <If Condition="HasQuest(66712)">
                <If Condition="GetQuestStep(66712) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Alphinaud" XYZ="2.487183, 5.215406E-07, 4.592957"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007722" XYZ="2.487183, 5.215406E-07, 4.592957" QuestId="66712" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66712) == 2">
                    <If Condition="not IsOnMap(145)">
                        <GetTo ZoneId="145" XYZ="-386.3481, -59, 134.0927"/>
                    </If>
                    <NoCombatMoveTo Name="Iliud" XYZ="-512.4742, -16.42, -7.522766"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006355" XYZ="-512.4742, -16.42, -7.522766" QuestId="66712" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(66712) == 3">
                    <If Condition="not IsOnMap(145)">
                        <GetTo ZoneId="145" XYZ="-386.3481, -59, 134.0927"/>
                    </If>
                    <NoCombatMoveTo Name="Lichyard Visitor" XYZ="-480.1252, -17.3008, 7.675232"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007740" XYZ="-480.1252, -17.3008, 7.675232" QuestId="66712" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(66712) == 255">
                    <If Condition="not IsOnMap(145)">
                        <GetTo ZoneId="145" XYZ="-386.3481, -59, 134.0927"/>
                    </If>

                    <!-- Rewards

                    0: Dexterity Earrings
                    1: Mind/Piety Earrings
                    2: Intelligence Earrings

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66712" NpcId="1006355" XYZ="-512.4742, -16.42, -7.522766" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Iliud" XYZ="-512.4742, -16.42, -7.522766"/>
                    <TurnIn QuestId="66712" NpcId="1006355" XYZ="-512.4742, -16.42, -7.522766"/>
                </If>
            </If>
        </If>

        <!-- Flowers for One -->

        <If Condition="not IsQuestCompleted(66713)">
            <If Condition="not HasQuest(66713)">
                <If Condition="not IsOnMap(145)">
                    <GetTo ZoneId="145" XYZ="-386.3481, -59, 134.0927"/>
                </If>
                <NoCombatMoveTo Name="Iliud" XYZ="-512.4742, -16.42, -7.522766"/>
                <If Condition="IsQuestAcceptQualified(66713)">
                    <PickupQuest NpcId="1006355" QuestId="66713" XYZ="-512.4742, -16.42, -7.522766"/>
                </If>
            </If>
            <If Condition="HasQuest(66713)">
                <If Condition="GetQuestStep(66713) == 1">
                    <If Condition="not IsOnSubMap(206)">
                        <GetTo ZoneId="137" XYZ="493.9612, 17.39324, 463.9441"/>
                    </If>
                    <NoCombatMoveTo Name="Gegeruju" XYZ="619.0126, 23.93624, 455.1002"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006273" XYZ="619.0126, 23.93624, 455.1002" QuestId="66713" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66713) == 2">
                    <If Condition="not IsOnSubMap(206)">
                        <GetTo ZoneId="137" XYZ="493.9612, 17.39324, 463.9441"/>
                    </If>
                    <UseTransport Name="Raincatcher Gully Ferry Skipper" InteractDistance="3.0" NpcId="1003588" XYZ="344.6859, 31.88946, 89.37195"/>
                    <NoCombatMoveTo Name="Byrglaent" XYZ="-25.86407, 71.75401, -36.78955"/>
                    <!-- <If Condition="GetQuestById(66713).QuestI8AH == 0"> -->
                        <TalkTo InteractDistance="3.0" NpcId="1006306" XYZ="-25.86407, 71.75401, -36.78955" QuestId="66713" StepId="2"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66713).QuestI8AH == 1"> -->
                        <TalkTo InteractDistance="3.0" NpcId="1006309" XYZ="-116.5637, 86.05164, -5.874817" QuestId="66713" StepId="2"/>
                    <!-- </If> -->
                </If>
                <If Condition="GetQuestStep(66713) == 3">
                    <If Condition="not IsOnSubMap(216)">
                        <GetTo ZoneId="137" XYZ="-14.57579, 70.50106, 9.079012"/>
                    </If>
                    <NoCombatMoveTo Name="Shamani Lohmani" XYZ="10.60498, 71.47817, -16.61713"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006305" XYZ="10.60498, 71.47817, -16.61713" QuestId="66713" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(66713) == 4">
                    <If Condition="not IsOnSubMap(216)">
                        <GetTo ZoneId="137" XYZ="-14.57579, 70.50106, 9.079012"/>
                    </If>
                    <NoCombatMoveTo Name="F'lhaminn" XYZ="16.13137, 52.52961, 485.0495"/>
                    <Dismount/>
                    <MoveTo Name="F'lhaminn" XYZ="29.12939, 54.01148, 484.9469"/>
                    <Grind grindRef="Flowers_for_One" while="HasQuest(66713) and GetQuestStep(66713) == 4"/>
                </If>
                <If Condition="GetQuestStep(66713) == 5">

                    <!-- TO DO -->

                    <!-- Fix interact and remove CodeChunk. -->

                    <!-- TO DO -->

                    <If Condition="not IsOnSubMap(216)">
                        <GetTo ZoneId="137" XYZ="-14.57579, 70.50106, 9.079012"/>
                    </If>
                    <NoCombatMoveTo Name="F'lhaminn" XYZ="29.12939, 54.01148, 484.9469"/>
                    <RunCode Name="FlowersforOne"/>
                </If>
                <If Condition="GetQuestStep(66713) == 255">
                    <If Condition="not IsOnSubMap(216)">
                        <GetTo ZoneId="137" XYZ="-14.57579, 70.50106, 9.079012"/>
                    </If>
                    <NoCombatMoveTo Name="Alphinaud" XYZ="-35.11102, 70.34484, 4.043579"/>
                    <TurnIn QuestId="66713" NpcId="1007752" XYZ="-35.11102, 70.34484, 4.043579"/>
                </If>
            </If>
        </If>

        <!-- All Things in Time -->

        <If Condition="not IsQuestCompleted(66714)">
            <If Condition="not HasQuest(66714)">
                <If Condition="not IsOnSubMap(216)">
                    <GetTo ZoneId="137" XYZ="-14.57579, 70.50106, 9.079012"/>
                </If>
                <NoCombatMoveTo Name="F'lhaminn" XYZ="-34.53119, 70.3476, 2.761841"/>
                <If Condition="IsQuestAcceptQualified(66714)">
                    <PickupQuest NpcId="1007739" QuestId="66714" XYZ="-34.53119, 70.3476, 2.761841"/>
                </If>
            </If>
            <If Condition="HasQuest(66714)">
                <If Condition="GetQuestStep(66714) == 1">
                    <If Condition="not IsOnSubMap(239)">
                        <GetTo ZoneId="139" XYZ="426.6154, 4.171807, 90.07837"/>
                    </If>
                    <NoCombatMoveTo Name="Mud Pugils" XYZ="586.0926, -3.052768, 152.8452"/>
                    <Grind grindRef="All_Things_in_Time" while="HasQuest(66714) and GetQuestStep(66714) == 1"/>
                </If>
                <If Condition="GetQuestStep(66714) == 2">
                    <If Condition="not IsOnSubMap(239)">
                        <GetTo ZoneId="139" XYZ="426.6154, 4.171807, 90.07837"/>
                    </If>
                    <NoCombatMoveTo Name="2002842" XYZ="286.366, -3.158691, 145.6168"/>
                    <UseObject NpcId="2002842" XYZ="286.366, -3.158691, 145.6168" Radius="10" QuestId="66714" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(66714) == 3">
                    <If Condition="not IsOnSubMap(239)">
                        <GetTo ZoneId="139" XYZ="426.6154, 4.171807, 90.07837"/>
                    </If>
                    <NoCombatMoveTo Name="2002843" XYZ="298.4207, -3.128174, 166.9185"/>
                    <UseObject NpcId="2002843" XYZ="298.4207, -3.128174, 166.9185" Radius="10" QuestId="66714" StepId="3"/>
                    <Grind grindRef="All_Things_in_Time2" while="HasQuest(66714) and GetQuestStep(66714) == 3"/>
                </If>
                <If Condition="GetQuestStep(66714) == 4">
                    <If Condition="not IsOnSubMap(216)">
                        <GetTo ZoneId="137" XYZ="-14.57579, 70.50106, 9.079012"/>
                    </If>
                    <NoCombatMoveTo Name="F'lhaminn" XYZ="-34.53119, 70.3476, 2.761841"/>
                    <HandOver ItemId="2001073" QuestId="66714" StepId="4" NpcId="1007739" XYZ="-34.53119, 70.3476, 2.761841"/>
                </If>
                <If Condition="GetQuestStep(66714) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                    </If>

                    <!-- Rewards

                    0: Gathering Materia IV
                    1: Perception Materia IV
                    2: GP Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66714" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548" RewardSlot="0"/>

                    -->

                    <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                    <TurnIn QuestId="66714" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
        </If>

        <!-- The Resolute -->

        <If Condition="not IsQuestCompleted(66715)">
            <If Condition="not HasQuest(66715)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <If Condition="IsOnMap(140)">
                    <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                </If>
                <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                    <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                </If>
                <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                <If Condition="IsQuestAcceptQualified(66715)">
                    <PickupQuest NpcId="1006693" QuestId="66715" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
            <If Condition="HasQuest(66715)">
                <If Condition="GetQuestStep(66715) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="F'lhaminn" XYZ="3.341675, 4.768372E-07, 3.860474"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007723" XYZ="3.341675, 4.768372E-07, 3.860474" QuestId="66715" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66715) == 2">
                    <If Condition="not IsOnMap(131)">
                        <GetTo ZoneId="131" XYZ="-3.683439, 15.00001, -8.834866"/>
                    </If>
                    <MoveTo Name="Memedesu" XYZ="-28.85486, 13.8, 118.6693"/>
                    <HandOver ItemId="2001074" QuestId="66715" StepId="2" NpcId="1006357" XYZ="-28.85486, 13.8, 118.6693"/>
                </If>
                <If Condition="GetQuestStep(66715) == 3">
                    <If Condition="not IsOnMap(146)">
                        <GetTo ZoneId="146" XYZ="-321.7947, 8.260907, 408.605"/>
                    </If>
                    <NoCombatMoveTo Name="Odinel" XYZ="-111.9249, -10.8135, 722.6825"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006294" XYZ="-111.9249, -10.8135, 722.6825" QuestId="66715" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(66715) == 4">
                    <If Condition="not IsOnMap(131)">
                        <GetTo ZoneId="131" XYZ="-3.683439, 15.00001, -8.834866"/>
                    </If>
                    <MoveTo Name="Memedesu" XYZ="-28.85486, 13.8, 118.6693"/>
                    <HandOver ItemId="2001075" QuestId="66715" StepId="4" NpcId="1006357" XYZ="-28.85486, 13.8, 118.6693"/>
                </If>
                <If Condition="GetQuestStep(66715) == 5">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="F'lhaminn" XYZ="3.341675, 4.768372E-07, 3.860474"/>
                    <HandOver ItemId="2001076" QuestId="66715" StepId="5" NpcId="1007723" XYZ="3.341675, 4.768372E-07, 3.860474"/>
                </If>
                <If Condition="GetQuestStep(66715) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                    </If>

                    <!-- Rewards

                    0: Craftsmanship Materia IV
                    1: CP Materia IV
                    2: Control Materia IV

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66715" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548" RewardSlot="0"/>

                    -->

                    <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                    <TurnIn QuestId="66715" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
        </If>

        <!-- Laying the Foundation -->

        <If Condition="not IsQuestCompleted(66716)">
            <If Condition="not HasQuest(66716)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <If Condition="IsOnMap(140)">
                    <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                </If>
                <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                    <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                </If>
                <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                <If Condition="IsQuestAcceptQualified(66716)">
                    <PickupQuest NpcId="1006693" QuestId="66716" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
            <If Condition="HasQuest(66716)">
                <If Condition="GetQuestStep(66716) == 255">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>

                    <!-- Rewards

                    0: Vitality Ring
                    1: Strength Ring (Accuracy)
                    2: Strength Ring (Skill Speed)

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66716" NpcId="1006530" ItemId="2001077" XYZ="21.92719, 20.74698, -682.063" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                    <TurnIn QuestId="66716" NpcId="1006530" ItemId="2001077" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If>
        </If>

        <!-- Better Late than Sever -->

        <If Condition="not IsQuestCompleted(66717)">
            <If Condition="not HasQuest(66717)">
                <If Condition="not IsOnMap(156)">
                    <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                </If>
                <NoCombatMoveTo Name="Guolgeim" XYZ="24.09399, 28.99997, -750.0573"/>
                <If Condition="IsQuestAcceptQualified(66717)">
                    <PickupQuest NpcId="1006544" QuestId="66717" XYZ="24.09399, 28.99997, -750.0573"/>
                </If>
            </If>
            <If Condition="HasQuest(66717)">
                <If Condition="GetQuestStep(66717) == 1">
                    <If Condition="not IsOnMap(154)">
                        <GetTo ZoneId="154" XYZ="-43.92079, -40.88041, 241.8634"/>
                    </If>
                    <NoCombatMoveTo Name="Wood Wailer" XYZ="-24.94855, -40.87433, 239.2156"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007741" XYZ="-24.94855, -40.87433, 239.2156" QuestId="66717" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66717) == 2">
                    <If Condition="not IsOnMap(154)">
                        <GetTo ZoneId="154" XYZ="-43.92079, -40.88041, 241.8634"/>
                    </If>
                    <NoCombatMoveTo Name="Wood Wailer" XYZ="179.3392, -27.80587, 176.7147"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007742" XYZ="179.3392, -27.80587, 176.7147" QuestId="66717" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(66717) == 3">
                    <If Condition="not IsOnMap(154)">
                        <GetTo ZoneId="154" XYZ="-43.92079, -40.88041, 241.8634"/>
                    </If>
                    <NoCombatMoveTo Name="Elezen Coachman" XYZ="-51.95703, -7.130762, -158.0988"/>
                    <While Condition="not IsTodoChecked(66717, 3, 0)">
                        <!-- <If Condition="GetQuestById(66717).QuestI8AH == 0"> -->
                            <TalkTo InteractDistance="3.0" NpcId="1007746" XYZ="-51.95703, -7.130762, -158.0988" UseMesh="False" QuestId="66717" StepId="3"/>
                        <!-- </If> -->
                        <!-- <If Condition="GetQuestById(66717).QuestI8AH == 1"> -->
                            <TalkTo InteractDistance="3.0" NpcId="1007747" XYZ="-41.03156, -6.904075, -161.1811" QuestId="66717" StepId="3"/>
                        <!-- </If> -->
                    </While>
                    <While Condition="not IsTodoChecked(66717, 3, 1)">
                        <UseObject NpcIds="2002844,2002846,2002845" QuestId="66717" StepId="3">
                            <HotSpots>
                                <HotSpot XYZ="-26.16925, -7.583801, -147.0513" Radius="10"/>
                                <HotSpot XYZ="-147.6006, -1.907471, -120.3174" Radius="10"/>
                                <HotSpot XYZ="-137.2855, -9.597961, -80.8576" Radius="10"/>
                            </HotSpots>
                        </UseObject>
                    </While>
                </If>
                <If Condition="GetQuestStep(66717) == 4">
                    <If Condition="not IsOnMap(154)">
                        <GetTo ZoneId="154" XYZ="-43.92079, -40.88041, 241.8634"/>
                    </If>
                    <NoCombatMoveTo Name="Elezen Coachman" XYZ="178.851, -28.27971, 185.748"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007748" XYZ="178.851, -28.27971, 185.748" QuestId="66717" StepId="4"/>
                </If>
                <If Condition="GetQuestStep(66717) == 255">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>

                    <!-- Rewards

                    0: Dexterity Ring
                    1: Mind/Piety Ring
                    2: Intelligence Ring

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66717" NpcId="1006544" XYZ="24.09399, 28.99997, -750.0573" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Guolgeim" XYZ="24.09399, 28.99997, -750.0573"/>
                    <TurnIn QuestId="66717" NpcId="1006544" XYZ="24.09399, 28.99997, -750.0573"/>
                </If>
            </If>
        </If>

        <!-- Crate Go Kaboom -->

        <If Condition="not IsQuestCompleted(66719)">
            <If Condition="not HasQuest(66719)">
                <If Condition="not IsOnMap(156)">
                    <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                </If>
                <NoCombatMoveTo Name="Sark Malark" XYZ="54.79517, 25.54827, -698.0544"/>
                <If Condition="IsQuestAcceptQualified(66719)">
                    <PickupQuest NpcId="1006552" QuestId="66719" XYZ="54.79517, 25.54827, -698.0544"/>
                </If>
            </If>
            <If Condition="HasQuest(66719)">
                <If Condition="GetQuestStep(66719) == 1">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>
                    <NoCombatMoveTo Name="Imperial Crate" XYZ="-529.6382, -1.787507, -276.4462"/>
                    <!-- <If Condition="GetQuestById(66719).QuestI8AH == 0"> -->
                        <MoveTo Name="Imperial Crate" XYZ="-529.6382, -1.787507, -276.4462"/>
                        <GroundTargeting XYZ="-529.6382, -1.787507, -276.4462" NpcId="2002847" ItemId="2001079" Condition="not (GetQuestById(66719).QuestI8AH == 0)" Name="Imperial Crate"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66719).QuestI8AH == 1"> -->
                        <MoveTo Name="Imperial Crate" XYZ="-484.6262, -3.998581, -283.6899"/>
                        <GroundTargeting XYZ="-484.6262, -3.998581, -283.6899" NpcId="2002848" ItemId="2001079" Condition="not (GetQuestById(66719).QuestI8AH == 1)" Name="Imperial Crate"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66719).QuestI8AH == 2"> -->
                        <MoveTo Name="Imperial Crate" XYZ="-477.3291, -3.2168, -252.8857"/>
                        <GroundTargeting XYZ="-469.2324, -4.000019, -256.7648" NpcId="2002849" ItemId="2001079" Condition="not (GetQuestById(66719).QuestI8AH == 2)" Name="Imperial Crate"/>
                    <!-- </If> -->
                </If>
                <If Condition="GetQuestStep(66719) == 255">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>

                    <!-- Rewards

                    0: Dexterity Necklace
                    1: Mind/Piety Necklace
                    2: Intelligence Necklace

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66719" NpcId="1006552" XYZ="54.79517, 25.54827, -698.0544" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Sark Malark" XYZ="54.79517, 25.54827, -698.0544"/>
                    <TurnIn QuestId="66719" NpcId="1006552" XYZ="54.79517, 25.54827, -698.0544"/>
                </If>
            </If>
        </If>

        <!-- Rock-solid Protection -->

        <If Condition="not IsQuestCompleted(66718)">
            <If Condition="not HasQuest(66718)">
                <If Condition="not IsOnMap(156)">
                    <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                </If>
                <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                <If Condition="IsQuestAcceptQualified(66718)">
                    <PickupQuest NpcId="1006530" QuestId="66718" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If>
            <If Condition="HasQuest(66718)">
                <If Condition="GetQuestStep(66718) == 1">
                    <If Condition="not IsOnMap(146)">
                        <GetTo ZoneId="146" XYZ="-158.9477, 26.13835, -407.9711"/>
                    </If>
                    <NoCombatMoveTo Name="Bibimu" XYZ="185.748, 13.7212, -443.1983"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006220" XYZ="185.748, 13.7212, -443.1983" QuestId="66718" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66718) == 2">
                    <LogMessage Message="[A Realm Reborn (2.1)] Please complete the Sunken Temple of Qarn manually!"/>
                    <LogMessage Message="[A Realm Reborn (2.1)] Please restart this profile after you are done."/>
                    <StopBot/>
                </If>
                <If Condition="GetQuestStep(66718) == 255">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>

                    <!-- Rewards

                    0: Vitality Necklace
                    1: Strength Necklace (Accuracy)
                    2: Strength Necklace (Critical Hit Rate)

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66718" NpcId="1006530" ItemId="2001078" XYZ="21.92719, 20.74698, -682.063" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                    <TurnIn QuestId="66718" NpcId="1006530" ItemId="2001078" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If>
        </If>

        <!-- Welcome to Morbol Country -->

        <If Condition="not IsQuestCompleted(67097)">
            <!-- Removed from the game? 
            <If Condition="not HasQuest(67097)">
                <If Condition="not IsOnMap(156)">
                    <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                </If>
                <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                <If Condition="IsQuestAcceptQualified(67097)">
                    <PickupQuest NpcId="1006530" QuestId="67097" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If> -->
            <If Condition="HasQuest(67097)">
                <Grind grindRef="67097" while="GetQuestStep(67097) == 1"/>
                <If Condition="GetQuestStep(67097) == 255">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>
                    <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                    <TurnIn QuestId="67097" NpcId="1006530" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If>
        </If>

        <!-- Answering the Call -->
        
        <If Condition="not IsQuestCompleted(67098)">
            <!-- Removed from the game? 
            <If Condition="not HasQuest(67098)">
                <If Condition="not IsOnMap(156)">
                    <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                </If>
                <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                <If Condition="IsQuestAcceptQualified(67098)">
                    <PickupQuest NpcId="1006530" QuestId="67098" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If> -->
            <If Condition="HasQuest(67098)">
                <Grind grindRef="67098" while="GetQuestStep(67098) == 1"/>
                <If Condition="GetQuestStep(67098) == 255">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>
                    <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                    <TurnIn QuestId="67098" NpcId="1006530" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If>
        </If>

        <!-- You're Gonna Carry That -->

        <If Condition="not IsQuestCompleted(66722)">
            <If Condition="not HasQuest(66722)">
                <If Condition="not IsOnMap(156)">
                    <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                </If>
                <NoCombatMoveTo Name="Slafborn" XYZ="21.92719, 20.74698, -682.063"/>
                <If Condition="IsQuestAcceptQualified(66722)">
                    <PickupQuest NpcId="1006530" QuestId="66722" XYZ="21.92719, 20.74698, -682.063"/>
                </If>
            </If>
            <If Condition="HasQuest(66722)">
                <If Condition="GetQuestStep(66722) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Alphinaud" XYZ="2.487183, 5.215406E-07, 4.592957"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007722" XYZ="2.487183, 5.215406E-07, 4.592957" QuestId="66722" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66722) == 2">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <!-- <If Condition="GetQuestById(66722).QuestI8AH == 0"> -->
                        <UseObject NpcId="2002852" XYZ="10.26929, -1.113953, -23.69727" Radius="10" UseTimes="1" QuestId="66722" StepId="2"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66722).QuestI8AH == 1"> -->
                        <UseObject NpcId="2002853" XYZ="20.40125, -2.151611, -45.91449" Radius="10" UseTimes="1" QuestId="66722" StepId="2"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66722).QuestI8AH == 2"> -->
                        <UseObject NpcId="2002850" XYZ="2.120972, -2.212585, -58.54895" Radius="10" UseTimes="1" QuestId="66722" StepId="2"/>
                    <!-- </If> -->
                    <!-- <If Condition="GetQuestById(66722).QuestI8AH == 3"> -->
                        <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                            <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                        </If>
                        <UseObject NpcId="2002851" XYZ="31.44885, 1.693726, 5.905212" Radius="10" UseTimes="1" QuestId="66722" StepId="2"/>
                    <!-- </If> -->
                </If>
                <If Condition="GetQuestStep(66722) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Exit to Vesper Bay" InteractDistance="3.0" NpcId="2001716" XYZ="-15.7016, 1.083313, -0.01531982"/>
                    </If>

                    <!-- Rewards

                    0: Paladin Weapon
                    1: Monk Weapon
                    2: Warrior Weapon
                    3: Dragoon Weapon

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66722" NpcId="1003785" ItemId="2001080" XYZ="-489.8299, 21.48999, -381.9791" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Alphinaud" XYZ="-489.8299, 21.48999, -381.9791"/>
                    <TurnIn QuestId="66722" NpcId="1003785" ItemId="2001080" XYZ="-489.8299, 21.48999, -381.9791"/>
                </If>
            </If>
        </If>

        <!-- The Things We Do for Tea -->

        <If Condition="not IsQuestCompleted(66723)">
            <If Condition="not HasQuest(66723)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <NoCombatMoveTo Name="Tataru" XYZ="-489.8299, 21.48999, -381.9791"/>
                <If Condition="IsQuestAcceptQualified(66723)">
                    <PickupQuest NpcId="1003785" QuestId="66723" XYZ="-489.8299, 21.48999, -381.9791"/>
                </If>
            </If>
            <If Condition="HasQuest(66723)">
                <If Condition="GetQuestStep(66723) == 1">
                    <If Condition="not IsOnMap(155)">
                        <GetTo ZoneId="155" XYZ="223.9285, 312, -240.9699"/>
                    </If>
                    <NoCombatMoveTo Name="Medguistl" XYZ="196.0936, 303.1, -285.0843"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006429" XYZ="196.0936, 303.1, -285.0843" QuestId="66723" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66723) == 2">
                    <If Condition="not IsOnMap(155)">
                        <GetTo ZoneId="155" XYZ="223.9285, 312, -240.9699"/>
                    </If>
                    <NoCombatMoveTo Name="Emanuel" XYZ="245.4108, 302, -253.8339"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006428" XYZ="245.4108, 302, -253.8339" QuestId="66723" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(66723) == 3">
                    <If Condition="not IsOnMap(155)">
                        <GetTo ZoneId="155" XYZ="223.9285, 312, -240.9699"/>
                    </If>
                    <NoCombatMoveTo Name="2002854" XYZ="-227.5273, 226.0013, 482.9938"/>
                    <If Condition="GetQuestById(66723).QuestI8AH == 0">
                        <UseObject NpcId="2002854" XYZ="-227.5273, 226.0013, 482.9938" Radius="10" QuestId="66723" StepId="3"/>
                    </If>
                    <If Condition="GetQuestById(66723).QuestI8AH == 1">
                        <UseObject NpcId="2002856" XYZ="-359.7314, 229.6024, 418.9668" Radius="10" QuestId="66723" StepId="3"/>
                        <Grind grindRef="The_Things_We_Do_For_Tea" while="HasQuest(66713) and (GetQuestById(66723).QuestI8AH == 1)"/>
                    </If>
                    <If Condition="GetQuestById(66723).QuestI8AH == 2">
                        <UseObject NpcId="2002855" XYZ="-458.2437, 232.349, 442.3132" Radius="10" QuestId="66723" StepId="3"/>
                    </If>
                    <If Condition="GetQuestById(66723).QuestI8AH == 3">
                        <UseObject NpcId="2002857" XYZ="-547.9973, 237.1099, 395.8953" Radius="10" QuestId="66723" StepId="3"/>
                        <Grind grindRef="The_Things_We_Do_For_Tea2" while="HasQuest(66713) and (GetQuestById(66723).QuestI8AH == 3)"/>
                    </If>
                </If>
                <If Condition="GetQuestStep(66723) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>

                    <!-- Rewards

                    0: Bard Weapon
                    1: White Mage Weapon
                    2: Black Mage Weapon
                    3: Summoner Weapon

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66723" NpcId="1003785" ItemId="2001081" XYZ="-489.8299, 21.48999, -381.9791" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Tataru" XYZ="-489.8299, 21.48999, -381.9791"/>
                    <TurnIn QuestId="66723" NpcId="1003785" ItemId="2001081" XYZ="-489.8299, 21.48999, -381.9791"/>
                </If>
            </If>
        </If>

        <!-- It's Possibly a Primal -->

        <If Condition="not IsQuestCompleted(66724)">
            <If Condition="not HasQuest(66724)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <NoCombatMoveTo Name="Tataru" XYZ="-489.8299, 21.48999, -381.9791"/>
                <If Condition="IsQuestAcceptQualified(66724)">
                    <PickupQuest NpcId="1003785" QuestId="66724" XYZ="-489.8299, 21.48999, -381.9791"/>
                </If>
            </If>
            <If Condition="HasQuest(66724)">
                <If Condition="GetQuestStep(66724) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                    <TalkTo InteractDistance="3.0" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548" QuestId="66724" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66724) == 255">
                    <If Condition="not IsOnMap(132)">
                        <GetTo ZoneId="132" XYZ="29.56105, 1.691584, 33.32197"/>
                    </If>

                    <!-- Rewards

                    0: Scholar Weapon
                    1: Rogue Weapon
                    2: Gladiator Shield

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66724" NpcId="1000168" XYZ="-75.48645, -0.5013741, -5.081299" RewardSlot="0"/>

                    -->

                    <MoveTo Name="Minfilia" XYZ="-75.48645, -0.5013741, -5.081299"/>
                    <TurnIn QuestId="66724" NpcId="1000168" XYZ="-75.48645, -0.5013741, -5.081299"/>
                </If>
            </If>
        </If>

        <!-- Hail to the King, Kupo -->

        <If Condition="not IsQuestCompleted(66725)">
            <If Condition="not HasQuest(66725)">
                <If Condition="not IsOnMap(132)">
                    <GetTo ZoneId="132" XYZ="29.56105, 1.691584, 33.32197"/>
                </If>
                <MoveTo Name="Vorsaile Heuloix" XYZ="-75.48645, -0.5013741, -5.081299"/>
                <If Condition="IsQuestAcceptQualified(66725)">
                    <PickupQuest NpcId="1000168" QuestId="66725" XYZ="-75.48645, -0.5013741, -5.081299"/>
                </If>
            </If>
            <If Condition="HasQuest(66725)">
                <If Condition="GetQuestStep(66725) == 1">
                    <If Condition="not IsOnMap(133) and not IsOnMap(205)">
                        <GetTo ZoneId="133" XYZ="29.11956, 8.114757, -101.8751"/>
                    </If>
                    <If Condition="IsOnMap(133)">
                        <UseTransport Name="Lotus Stand" QuestId="66725" InteractDistance="3.0" NpcId="1000460" XYZ="-159.411, 4.054098, -4.104736"/>
                    </If>
                    <MoveTo Name="Kan-E-Senna" XYZ="4.898132, -1.92944, -0.1983643"/>
                    <TalkTo InteractDistance="3.0" NpcId="1003027" XYZ="4.898132, -1.92944, -0.1983643" QuestId="66725" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66725) == 255">
                    <If Condition="not IsOnMap(133) and not IsOnMap(205)">
                        <GetTo ZoneId="133" XYZ="29.11956, 8.114757, -101.8751"/>
                    </If>
                    <If Condition="IsOnMap(205)">
                        <UseTransport Name="Exit to Nophica's Altar" InteractDistance="3.0" NpcId="2001216" XYZ="45.87172, 7.763558, 47.41661"/>
                    </If>

                    <!-- Rewards

                    0: X-Potion
                    1: X-Ether
                    2: Hi-Elixir

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66725" NpcId="1000692" XYZ="-258.8083, -5.773526, -27.26788" RewardSlot="0"/>

                    -->

                    <MoveTo Name="E-Sumi-Yan" XYZ="-258.8083, -5.773526, -27.26788"/>
                    <TurnIn QuestId="66725" NpcId="1000692" XYZ="-258.8083, -5.773526, -27.26788"/>
                </If>
            </If>
        </If>

        <!-- You Have Selected Regicide -->

        <If Condition="not IsQuestCompleted(66726)">
            <If Condition="not HasQuest(66726)">
                <If Condition="not IsOnMap(133)">
                    <GetTo ZoneId="133" XYZ="29.11956, 8.114757, -101.8751"/>
                </If>
                <MoveTo Name="E-Sumi-Yan" XYZ="-258.8083, -5.773526, -27.26788"/>
                <If Condition="IsQuestAcceptQualified(66726)">
                    <PickupQuest NpcId="1000692" QuestId="66726" XYZ="-258.8083, -5.773526, -27.26788"/>
                </If>
            </If>
            <If Condition="HasQuest(66726)">
                <If Condition="GetQuestStep(66726) == 1">
                    <If Condition="not IsOnMap(133)">
                        <GetTo ZoneId="133" XYZ="29.11956, 8.114757, -101.8751"/>
                    </If>
                    <MoveTo Name="Kuplo Kopp" XYZ="180.0106, -2.265522, -245.5024"/>
                    <TalkTo InteractDistance="3.0" NpcId="1008275" XYZ="180.0106, -2.265522, -245.5024" QuestId="66726" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66726) == 2">
                    <If Condition="not IsOnMap(152) and not IsOnMap(133)">
                        <GetTo ZoneId="152" XYZ="-192.3292, 3.769932, 291.1943"/>
                    </If>
                    <If Condition="IsOnMap(133)">
                        <UseTransport Name="Westshore Pier Ferry Skipper" DialogOption="0" InteractDistance="3.0" NpcId="1001263" XYZ="181.4144, -2.35195, -240.4059"/>
                    </If>
                    <NoCombatMoveTo Name="Kuplo Kopp" XYZ="-550.0482, 10.72236, 65.16396"/>
                    <WaitWhile Condition="Managers.QuestLogManager.InCutscene"/>
                </If>
                <If Condition="GetQuestStep(66726) == 3">
                    <If Condition="not IsOnMap(152)">
                        <GetTo ZoneId="152" XYZ="-192.3292, 3.769932, 291.1943"/>
                    </If>
                    <NoCombatMoveTo Name="Kuplo Kopp" XYZ="-542.9313, 11.20175, 62.24158"/>
                    <Dismount/>
                    <RunCode Name="DisableMount"/>
                    <TalkTo InteractDistance="3.0" NpcId="1008276" XYZ="-542.9313, 11.20175, 62.24158" QuestId="66726" StepId="3"/>
                </If>
                <If Condition="GetQuestStep(66726) == 4">
                    <If Condition="not IsOnMap(152)">
                        <GetTo ZoneId="152" XYZ="-192.3292, 3.769932, 291.1943"/>
                    </If>
                    <NoCombatMoveTo Name="Kuplo Kopp" XYZ="-542.9313, 11.20175, 62.24158"/>
                    <Dismount/>
                    <RunCode Name="DisableMount"/>
                    <MoveTo Name="Kuplo Kopp" XYZ="-550.0482, 10.72236, 65.16396"/>
                    <WaitTimer WaitTime="2"/>

                    <!-- TO DO -->

                    <!-- Figure out the quest variable for the below grind area. -->

                    <!-- TO DO -->

                    <!-- <Grind grindRef="You_Have_Selected_Regicide" while="HasQuest(66726) and GetQuestStep(66726) == 4"/> -->
                    <MoveTo Name="Kuplo Kopp" XYZ="-387.5481, 0.1001635, 69.79528"/>
                    <WaitTimer WaitTime="2"/>

                    <!-- TO DO -->

                    <!-- Figure out the quest variable for the below grind area. -->

                    <!-- TO DO -->

                    <!-- <Grind grindRef="You_Have_Selected_Regicide2" while="HasQuest(66726) and GetQuestStep(66726) == 4"/> -->
                    <MoveTo Name="Kuplo Kopp" XYZ="-356.2295, 4.868959, 62.71615"/>
                    <WaitTimer WaitTime="2"/>

                    <!-- TO DO -->

                    <!-- Figure out the quest variable for the below grind area. -->

                    <!-- TO DO -->

                    <!-- <Grind grindRef="You_Have_Selected_Regicide3" while="HasQuest(66726) and GetQuestStep(66726) == 4"/> -->
                    <MoveTo Name="Kuplo Kopp" XYZ="-323.0839, 8.56884, 70.18418"/>
                    <WaitTimer WaitTime="2"/>

                    <!-- TO DO -->

                    <!-- Figure out the quest variable for the below grind area. -->

                    <!-- TO DO -->

                    <!-- <Grind grindRef="You_Have_Selected_Regicide4" while="HasQuest(66726) and GetQuestStep(66726) == 4"/> -->
                    <MoveTo Name="Kuplo Kopp" XYZ="-241.7146, 11.89279, 20.12896"/>
                    <WaitTimer WaitTime="2"/>

                    <!-- TO DO -->

                    <!-- Figure out the quest variable for the below grind area. -->

                    <!-- TO DO -->

                    <!-- <Grind grindRef="You_Have_Selected_Regicide5" while="HasQuest(66726) and GetQuestStep(66726) == 4"/> -->
                    <RunCode Name="EnableMount"/>
                    <UseObject NpcId="2003347" XYZ="-318.6237, 12.25293, -35.05005" Radius="10" QuestId="66726" StepId="4"/>
                </If>
                <If Condition="GetQuestStep(66726) == 5">
                    <If Condition="not IsOnMap(152)">
                        <GetTo ZoneId="152" XYZ="-192.3292, 3.769932, 291.1943"/>
                    </If>
                    <NoCombatMoveTo Name="Kuplo Kopp" XYZ="-317.6776, 12.29312, -37.30841"/>
                    <TalkTo InteractDistance="3.0" NpcId="1008277" XYZ="-317.6776, 12.29312, -37.30841" QuestId="66726" StepId="5"/>
                </If>
                <If Condition="GetQuestStep(66726) == 6">
                    <If Condition="not IsOnMap(152)">
                        <GetTo ZoneId="152" XYZ="-192.3292, 3.769932, 291.1943"/>
                    </If>
                    <NoCombatMoveTo Name="2003046" XYZ="-318.6237, 12.25293, -35.08057"/>
                    <UseObject NpcId="2003046" XYZ="-318.6237, 12.25293, -35.08057" Radius="10" QuestId="66726" StepId="6"/>
                </If>
                <If Condition="GetQuestStep(66726) == 7">
                    <LogMessage Message="[A Realm Reborn (2.1)] Please complete Thornmarch (Hard) manually!"/>
                    <LogMessage Message="[A Realm Reborn (2.1)] Please restart this profile after you are done."/>
                    <StopBot/>
                </If>
                <If Condition="GetQuestStep(66726) == 255">
                    <If Condition="not IsOnMap(153)">
                        <GetTo ZoneId="153" XYZ="-230.3013, 21.38047, 350.0789"/>
                    </If>

                    <!-- Rewards

                    0: Red Drop (Slow Resistance)
                    1: Blue Drop (Silence Resistance)
                    2: Clear Drop (Blind Resistance)
                    3: Purple Drop (Poison Resistance)

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66726" NpcId="1007862" XYZ="-140.032, 8.647763, 280.8728" RewardSlot="0"/>

                    -->

                    <NoCombatMoveTo Name="Jump Spot" XYZ="-143.6555, 8.149665, 269.7762"/>
                    <RunCode Name="CampTranquilJump"/>
                    <TurnIn QuestId="66726" NpcId="1007862" XYZ="-140.032, 8.647763, 280.8728"/>
                </If>
            </If>
        </If>

        <!-- On the Properties of Primals -->

        <If Condition="not IsQuestCompleted(66727)">

            <If Condition="not HasQuest(66727)">
                <If Condition="not IsOnMap(153)">
                    <GetTo ZoneId="153" XYZ="-230.3013, 21.38047, 350.0789"/>
                </If>
                <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-139.4522, 8.712891, 281.6968)) &gt; 7">
                    <NoCombatMoveTo Name="Jump Spot" XYZ="-143.6555, 8.149665, 269.7762"/>
                    <RunCode Name="CampTranquilJump"/>
                </If>
                <NoCombatMoveTo Name="Raya-O-Senna" XYZ="-139.4522, 8.712891, 281.6968"/>
                <If Condition="IsQuestAcceptQualified(66727)">
                    <PickupQuest NpcId="1006751" QuestId="66727" XYZ="-139.4522, 8.712891, 281.6968"/>
                </If>
            </If>
            <If Condition="HasQuest(66727)">
                <If Condition="GetQuestStep(66727) == 1">
                    <If Condition="not IsOnMap(133) and not IsOnMap(205)">
                        <GetTo ZoneId="133" XYZ="29.11956, 8.114757, -101.8751"/>
                    </If>
                    <If Condition="IsOnMap(133)">
                        <UseTransport Name="Lotus Stand" QuestId="66727" InteractDistance="3.0" NpcId="1000460" XYZ="-159.411, 4.054098, -4.104736"/>
                    </If>
                    <MoveTo Name="Kan-E-Senna" XYZ="4.898132, -1.92944, -0.1983643"/>
                    <TalkTo InteractDistance="3.0" NpcId="1003027" XYZ="4.898132, -1.92944, -0.1983643" QuestId="66727" StepId="1"/>
                </If>
                <If Condition="GetQuestStep(66727) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                    </If>

                    <!-- Rewards

                    0: White Drop (Stun Resistance)
                    1: Black Drop (Sleep Resistance)
                    2: Yellow Drop (Bind Resistance)
                    3: Green Drop (Heavy Resistance)

                    If you want a specific reward from the above list, replace the TurnIn tag below with the following and change the "Reward Slot" to the number you want:

                    <TurnIn QuestId="66727" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548" RewardSlot="0"/>

                    -->

                    <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                    <TurnIn QuestId="66727" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
        </If>

        <!-- The Gifted -->

        <If Condition="not IsQuestCompleted(66728)">
            <If Condition="not HasQuest(66728)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <If Condition="IsOnMap(140)">
                    <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                </If>
                <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                    <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                </If>
                <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                <If Condition="IsQuestAcceptQualified(66728)">
                    <PickupQuest NpcId="1006693" QuestId="66728" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
            <If Condition="HasQuest(66728)">
                <If Condition="GetQuestStep(66728) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Urianger" XYZ="-2.822998, -3.000001, -56.22955"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007478" XYZ="-2.822998, -3.000001, -56.22955" QuestId="66728" StepId="1"/>
                    <WaitTimer WaitTime="2"/>
                </If>
                <If Condition="GetQuestStep(66728) == 2">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Exit to Vesper Bay" InteractDistance="3.0" NpcId="2001716" XYZ="-15.7016, 1.083313, -0.01531982"/>
                    </If>
                    <MoveTo Name="White-robed Ascian" XYZ="-458.952, 23.1922, -369.333"/>

                    <!-- TO DO -->

                    <!-- Remove CodeChunk upon further testing? -->

                    <!-- TO DO -->

                    <!-- <RunCode Name="TheGifted"/> -->
                    <WaitWhile Condition="Managers.QuestLogManager.InCutscene"/>
                </If>
                <If Condition="GetQuestStep(66728) == 3">
                    <If Condition="not IsOnMap(140)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <MoveTo Name="White-robed Ascian" XYZ="-471.5366, 22.80423, -442.6158"/>
                    <WaitTimer WaitTime="2"/>

                    <!-- TO DO -->

                    <!-- Figure out the quest variable for the below grind area. -->

                    <!-- TO DO -->

                    <!-- <Grind grindRef="The_Gifted" while="HasQuest(66728) and GetQuestStep(66728) == 3"/> -->
                    <MoveTo Name="White-robed Ascian" XYZ="-385.2847, 24.55097, -503.652"/>
                    <WaitTimer WaitTime="2"/>

                    <!-- TO DO -->

                    <!-- Figure out the quest variable for the below grind area. -->

                    <!-- TO DO -->

                    <!-- <Grind grindRef="The_Gifted2" while="HasQuest(66728) and GetQuestStep(66728) == 3"/> -->
                </If>
                <If Condition="GetQuestStep(66728) == 4">
                    <If Condition="not IsOnMap(140)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <MoveTo Name="White-robed Ascian" XYZ="-365.1668, 16.09825, -631.1841"/>
                    <Grind grindRef="The_Gifted3" while="HasQuest(66728) and GetQuestStep(66728) == 5"/>
                </If>
                <If Condition="GetQuestStep(66728) == 6">
                    <If Condition="not IsOnMap(140)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <MoveTo Name="White-robed Ascian" XYZ="-324.1881, 14.81629, -790.2355"/>
                    <Grind grindRef="The_Gifted4" while="HasQuest(66728) and GetQuestStep(66728) == 6"/>
                </If>
                <If Condition="GetQuestStep(66728) == 7">
                    <If Condition="not IsOnMap(140)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <NoCombatMoveTo Name="White-robed Ascian" XYZ="-325.185, 14.7074, -784.3595"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007751" XYZ="-325.185, 14.7074, -784.3595" QuestId="66728" StepId="7"/>
                </If>
                <If Condition="GetQuestStep(66728) == 255">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                        <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                    <TurnIn QuestId="66728" NpcId="1006693" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
        </If>

        <!-- Build on the Stone -->

        <If Condition="not IsQuestCompleted(66729)">
            <If Condition="not HasQuest(66729)">
                <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                    <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                </If>
                <If Condition="IsOnMap(140)">
                    <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                </If>
                <If Condition="IsOnMap(212) and IsOnSubMap(356)">
                    <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2001715" XYZ="23.23944, 2.090454, -0.01531982"/>
                </If>
                <MoveTo Name="Minfilia" XYZ="39.29187, 1.214808, 0.8086548"/>
                <If Condition="IsQuestAcceptQualified(66729)">
                    <PickupQuest NpcId="1006693" QuestId="66729" XYZ="39.29187, 1.214808, 0.8086548"/>
                </If>
            </If>
            <If Condition="HasQuest(66729)">
                <If Condition="GetQuestStep(66729) == 1">
                    <If Condition="not IsOnMap(140) and not IsOnMap(212)">
                        <GetTo ZoneId="140" XYZ="61.26291, 45, -227.1376"/>
                    </If>
                    <If Condition="IsOnMap(140)">
                        <UseTransport Name="Waking Sands Entrance" InteractDistance="3.0" NpcId="2001711" XYZ="-480.9186, 17.99036, -386.862"/>
                    </If>
                    <If Condition="IsOnMap(212) and IsOnSubMap(374)">
                        <UseTransport Name="Exit to the Waking Sands" InteractDistance="3.0" NpcId="2001717" XYZ="25.4978, 2.090454, -0.01531982"/>
                    </If>
                    <MoveTo Name="Urianger" XYZ="-2.822998, -3.000001, -56.22955"/>
                    <HandOver ItemId="2001124" QuestId="66729" StepId="1" NpcId="1007478" XYZ="-2.822998, -3.000001, -56.22955"/>
                </If>
                <If Condition="GetQuestStep(66729) == 2">
                    <If Condition="not IsOnMap(156)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>
                    <MoveTo Name="Tataru" XYZ="20.2182, 21.25272, -632.3796"/>
                    <TalkTo InteractDistance="3.0" NpcId="1007765" XYZ="20.2182, 21.25272, -632.3796" QuestId="66729" StepId="2"/>
                </If>
                <If Condition="GetQuestStep(66729) == 255">
                    <If Condition="not IsOnMap(156) and not IsOnMap(351)">
                        <GetTo ZoneId="156" XYZ="41.09607, 20.30506, -677.7967"/>
                    </If>
                    <If Condition="IsOnMap(156)">
                        <UseTransport Name="Rising Stones Entrance" InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
                    </If>
                    <If Condition="IsOnMap(351) and IsOnSubMap(481)">
                        <UseTransport Name="Entrance to the Solar" InteractDistance="3.0" NpcId="2002878" XYZ="-0.01531982, -1.022339, -26.7796"/>
                    </If>
                    <MoveTo Name="Minfilia" XYZ="1.022339, -1.995725, -45.79236"/>
                    <TurnIn QuestId="66729" NpcId="1007724" XYZ="1.022339, -1.995725, -45.79236"/>
                </If>
            </If>
        </If>

		<If Condition="IsQuestCompleted(66729)">
            <LogMessage Message="[A Realm Reborn (2.1)] You've completed the A Realm Reborn (Patch 2.1) questline!"/>
			<LogMessage Message="[A Realm Reborn (2.1)] Loading the A Realm Reborn (Patch 2.2) profile..."/>
			<LoadProfile Path="Profiles/y2krazy/Questing/[O] A Realm Reborn (Patch 2.2).xml"/>
		</If>

	</Order>
	<CodeChunks>
		<CodeChunk Name="FlowersforOne">
			<![CDATA[ 
				GameObjectManager.GetObjectByNPCId(1007738).Interact();
				await Coroutine.Sleep(2000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(3000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(8000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(5000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(3000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(2000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(1000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(2000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(2000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(2000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(3000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(3000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(5000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(12000);
			]]>
		</CodeChunk>
		<CodeChunk Name="WhatPeistesCraveLeve">
			<![CDATA[ 
				RaptureAtkUnitManager.GetWindowByName("_ToDoList").SendAction(4, 3, 5, 3, 0, 3, 0, 4, 0x3C);
				await Coroutine.Sleep(500);
				RaptureAtkUnitManager.GetWindowByName("Journal").SendAction(2, 3, 4, 4, 566);
				await Coroutine.Sleep(2000);
				if (ff14bot.RemoteWindows.SelectYesno.IsOpen)
					ff14bot.RemoteWindows.SelectYesno.ClickYes();
				await Coroutine.Sleep(2000);
				RaptureAtkUnitManager.GetWindowByName("GuildLeveDifficulty").SendAction(2, 3, 0, 3, 4);
				await Coroutine.Sleep(5000);
			]]>
		</CodeChunk>
		<!-- <CodeChunk Name="SelectYes">
			<![CDATA[ 
				await Coroutine.Sleep(1000);
				RaptureAtkUnitManager.GetWindowByName("SelectYesnoCount").SendAction(1, 3, 0);
				await Coroutine.Sleep(5000);
			]]>
		</CodeChunk>
		<CodeChunk Name="JournalDecline">
			<![CDATA[ 
				await Coroutine.Sleep(2000);
				if (ff14bot.RemoteWindows.JournalResult.IsOpen)
					ff14bot.RemoteWindows.JournalResult.Decline();
				await Coroutine.Sleep(2000);
			]]>
		</CodeChunk> -->
		<CodeChunk Name="LevesofHorizon">
			<![CDATA[ 
				await Coroutine.Sleep(1000);
				GameObjectManager.GetObjectByNPCId(1001796).Interact();
				await Coroutine.Sleep(1000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(500);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(2000);
				if (ff14bot.RemoteWindows.JournalResult.IsOpen)
					ff14bot.RemoteWindows.JournalResult.SelectSlot(2);
					ff14bot.RemoteWindows.JournalResult.Complete();
			]]>
		</CodeChunk>
		<CodeChunk Name="DisableMount">
			<![CDATA[
				ff14bot.Settings.CharacterSettings.Instance.UseMount = false;
			]]>
		</CodeChunk>
		<CodeChunk Name="EnableMount">
			<![CDATA[
				ff14bot.Settings.CharacterSettings.Instance.UseMount = true;
			]]>
		</CodeChunk>
		<CodeChunk Name="CampTranquilJump">
			<![CDATA[ 
				if(Core.Player.IsMounted)
				{
					Actionmanager.Dismount();
					await Coroutine.Sleep(3000);
				}
				MovementManager.SetFacing(0.8310049f);
				MovementManager.MoveForwardStart();
				await Coroutine.Sleep(500);
				MovementManager.Jump();
				await Coroutine.Sleep(1500);
				MovementManager.MoveForwardStop();
			]]>
		</CodeChunk>
		<!-- <CodeChunk Name="TheGifted">
			<![CDATA[ 
				await Coroutine.Sleep(5000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(5000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(2000);
				ff14bot.RemoteWindows.Talk.Next();
				await Coroutine.Sleep(10000);
			]]>
		</CodeChunk> -->

        <!-- Job Check -->

        <CodeChunk Name="EquipBRDCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4546)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipBLMCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4548)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipDRGCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4545)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipMNKCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4543)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipNINCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 7886)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipPLDCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4542)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipSCHCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4550)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipSMNCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4549)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipWARCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4544)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
        <CodeChunk Name="EquipWHMCrystal">
        <![CDATA[ 
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            BagSlot EquipSlot = ff14bot.Managers.InventoryManager.GetBagByInventoryBagId(ff14bot.Enums.InventoryBagId.EquippedItems)[ff14bot.Enums.EquipmentSlot.SoulCrystal];

            foreach(ff14bot.Managers.BagSlot slot in ff14bot.Managers.InventoryManager.FilledInventoryAndArmory)
            {
            if(slot.RawItemId == 4547)
            {
                slot.Move(EquipSlot);
            }
            }
            await Buddy.Coroutines.Coroutine.Sleep(1000);
            ]]>
        </CodeChunk>
	</CodeChunks>
	<GrindAreas>
		<GrindArea name="Flowers_for_One">
			<Hotspots>
				<Hotspot Radius="90" XYZ="29.12939, 54.01148, 484.9469" name="Hoary Goobbue"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="687"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="All_Things_in_Time">
			<Hotspots>
				<Hotspot Radius="90" XYZ="586.0926, -3.052768, 152.8452" name="Mud Pugils"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="642"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="All_Things_in_Time2">
			<Hotspots>
				<Hotspot Radius="90" XYZ="298.4207, -3.128174, 166.9185" name="Gurangatch"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="688"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="Leves_of_Horizon">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-146.158, 15.46816, -261.4188" name="Softskin Peiste"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="1037"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="The_Things_We_Do_For_Tea">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-359.7314, 229.6024, 418.9668" name="Rimy Biasts"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="691"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="The_Things_We_Do_For_Tea2">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-547.9973, 237.1099, 395.8953" name="Rimy Biasts"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="691"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="You_Have_Selected_Regicide">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-550.0482, 10.72236, 65.16396" name="Malevolent Fungus"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="699"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="You_Have_Selected_Regicide2">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-387.5481, 0.1001635, 69.79528" name="Malevolent Squirrels"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="700"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="You_Have_Selected_Regicide3">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-356.2295, 4.868959, 62.71615" name="Malevolent Galago"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="701"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="You_Have_Selected_Regicide4">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-323.0839, 8.56884, 70.18418" name="Malevolent Ked"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="702"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="You_Have_Selected_Regicide5">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-241.7146, 11.89279, 20.12896" name="Malevolent Mobs"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="705" Weight="2000"/>
				<TargetMob Id="704" Weight="1000"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="The_Gifted">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-469.1342, 22.86516, -442.4682" name="Brutish Imps"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="692"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="The_Gifted2">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-385.2847, 24.55097, -503.652" name="Gruesome Gargoyle"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="693"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="The_Gifted3">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-365.1668, 16.09825, -631.1841" name="Gnarled Gargoyle"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="694"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="The_Gifted4">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-324.1881, 14.81629, -790.2355" name="Ascian Mobs"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="695"/>
				<TargetMob Id="697"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="67097">
			<Hotspots>
				<Hotspot Radius="90" XYZ="-363.5114, -17.14841, -401.2214" name="Morbol"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="237"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
		<GrindArea name="67098">
			<Hotspots>
				<Hotspot Radius="90" XYZ="479.877, -2.450189, -784.8846" name="Hapalit"/>
			</Hotspots>
			<TargetMobs>
				<TargetMob Id="793"/>
			</TargetMobs>
			<MinLevel>50</MinLevel>
			<MaxLevel>61</MaxLevel>
		</GrindArea>
	</GrindAreas>
</Profile>